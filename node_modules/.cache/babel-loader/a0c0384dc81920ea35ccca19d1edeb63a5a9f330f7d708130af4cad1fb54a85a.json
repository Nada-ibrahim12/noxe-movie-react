{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nada\\\\Courses\\\\Rwad Masr React Web\\\\Projects\\\\noxe-movie-react\\\\src\\\\components\\\\Register\\\\Register.jsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport Joi from \"joi\";\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  let [isLoding, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n  const [error, setError] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n  const [isChecked, setIsChecked] = useState(false);\n  const [usernames, setUsernames] = useState([]);\n  const [formData, setFormData] = useState({\n    userName: \"\",\n    email: \"\",\n    password: \"\",\n    rePassword: \"\",\n    dateOfBirth: \"\"\n  });\n  function getUser(e) {\n    let data = {\n      ...formData\n    };\n    data[e.target.name] = e.target.value;\n    setFormData(data);\n  }\n  function handleCheckboxChange() {\n    setIsChecked(!isChecked);\n  }\n  useEffect(() => {\n    const storedUsernames = JSON.parse(localStorage.getItem(\"usernames\")) || [];\n    setUsernames(storedUsernames);\n  }, []);\n  function submitRegisterForm(e) {\n    e.preventDefault();\n    if (!isChecked) {\n      setError(\"You must agree to the terms of service\");\n      return;\n    }\n    let statusError = validation();\n    if (statusError !== null && statusError !== void 0 && statusError.error) {\n      setErrors(statusError === null || statusError === void 0 ? void 0 : statusError.error.details);\n    } else {\n      axios.post(\"http://hawas.runasp.net/api/v1/Register\", formData).then(res => {\n        console.log(res.data);\n        localStorage.setItem(\"currentUser\", formData.email);\n        navigate(\"/Login\");\n      }).catch(err => {\n        var _err$response, _err$response$data;\n        console.log(err);\n        setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Registration failed\");\n      });\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-75 mx-auto mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center mb-4\",\n        children: \"Register Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), error.map((error, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: error.message\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submitRegisterForm,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username\",\n          children: \"user name : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: getUser,\n          className: \"form-control mb-4\",\n          type: \"text\",\n          id: \"username\",\n          name: \"username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"email : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: getUser,\n          className: \"form-control mb-4\",\n          type: \"email\",\n          id: \"email\",\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"password : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: getUser,\n          className: \"form-control mb-4\",\n          type: \"password\",\n          id: \"password\",\n          name: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"passwordConfirm\",\n          children: \"passwordConfirm : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: getUser,\n          className: \"form-control mb-4\",\n          type: \"password\",\n          id: \"passwordConfirm\",\n          name: \"passwordConfirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-outline-info my-2\",\n          children: [isLoding ? /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-spinner fa-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this) : \"Register\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Register, \"yhg05QcGkN01pWscqVX3xxE6RKU=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["axios","Joi","React","useState","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Register","_s","isLoding","setIsLoading","navigate","error","setError","errors","setErrors","isChecked","setIsChecked","usernames","setUsernames","formData","setFormData","userName","email","password","rePassword","dateOfBirth","getUser","e","data","target","name","value","handleCheckboxChange","useEffect","storedUsernames","JSON","parse","localStorage","getItem","submitRegisterForm","preventDefault","statusError","validation","details","post","then","res","console","log","setItem","catch","err","_err$response","_err$response$data","response","message","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","i","onSubmit","htmlFor","onChange","type","id","_c","$RefreshReg$"],"sources":["D:/Nada/Courses/Rwad Masr React Web/Projects/noxe-movie-react/src/components/Register/Register.jsx"],"sourcesContent":["import axios from \"axios\";\nimport Joi from \"joi\";\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nexport default function Register() {\n  let [isLoding, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n  const [error, setError] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n  const [isChecked, setIsChecked] = useState(false);\n  const [usernames, setUsernames] = useState([]);\n\n  const [formData, setFormData] = useState({\n    userName: \"\",\n    email: \"\",\n    password: \"\",\n    rePassword: \"\",\n    dateOfBirth: \"\",\n  });\n\n  function getUser(e) {\n    let data = { ...formData };\n    data[e.target.name] = e.target.value;\n    setFormData(data);\n  }\n\n  function handleCheckboxChange() {\n    setIsChecked(!isChecked);\n  }\n  useEffect(() => {\n    const storedUsernames = JSON.parse(localStorage.getItem(\"usernames\")) || [];\n    setUsernames(storedUsernames);\n  }, []);\n\n  function submitRegisterForm(e) {\n    e.preventDefault();\n    if (!isChecked) {\n      setError(\"You must agree to the terms of service\");\n      return;\n    }\n    let statusError = validation();\n    if (statusError?.error) {\n      setErrors(statusError?.error.details);\n    } else {\n      axios\n        .post(\"http://hawas.runasp.net/api/v1/Register\", formData)\n        .then((res) => {\n          console.log(res.data);\n          localStorage.setItem(\"currentUser\", formData.email);\n          navigate(\"/Login\");\n        })\n        .catch((err) => {\n          console.log(err);\n          setError(err.response?.data?.message || \"Registration failed\");\n        });\n    }\n  }\n\n  return (\n    <>\n      <div className=\"w-75 mx-auto mt-5\">\n        <h2 className=\"text-center mb-4\">Register Now</h2>\n        {error.map((error, i) => (\n          <div key={i} className=\"alert alert-danger\">\n            {error.message}\n          </div>\n        ))}\n        <form onSubmit={submitRegisterForm}>\n          <label htmlFor=\"username\">user name : </label>\n          <input\n            onChange={getUser}\n            className=\"form-control mb-4\"\n            type=\"text\"\n            id=\"username\"\n            name=\"username\"\n          />\n\n          <label htmlFor=\"email\">email : </label>\n          <input\n            onChange={getUser}\n            className=\"form-control mb-4\"\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n          />\n\n          <label htmlFor=\"password\">password : </label>\n          <input\n            onChange={getUser}\n            className=\"form-control mb-4\"\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n          />\n\n          <label htmlFor=\"passwordConfirm\">passwordConfirm : </label>\n          <input\n            onChange={getUser}\n            className=\"form-control mb-4\"\n            type=\"password\"\n            id=\"passwordConfirm\"\n            name=\"passwordConfirm\"\n          />\n\n          <button type=\"submit\" className=\"btn btn-outline-info my-2\">\n            {isLoding ? <i className=\"fas fa-spinner fa-spin\"></i> : \"Register\"}{\" \"}\n          </button>\n        </form>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}