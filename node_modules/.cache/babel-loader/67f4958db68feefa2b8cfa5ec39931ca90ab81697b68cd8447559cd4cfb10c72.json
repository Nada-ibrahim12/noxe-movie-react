{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nada\\\\Courses\\\\Rwad Masr React Web\\\\Projects\\\\noxe-movie-react\\\\src\\\\components\\\\Login\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport Joi from \"joi\";\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  let [isLoding, setIsLoading] = useState(false);\n  let [error, setError] = useState([]);\n  let navigate = useNavigate();\n  let [user, setUser] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  function getUser(e) {\n    let userData = {\n      ...user\n    }; //deep copy\n    userData[e.target.name] = e.target.value;\n    setUser(userData);\n  }\n  async function submitLoginForm(e) {\n    setIsLoading(true);\n    e.preventDefault();\n    let validateResult = valdation();\n    if (validateResult.error) {\n      setIsLoading(false);\n      setError(validateResult.error.details);\n      console.log(validateResult.error.details);\n    } else {\n      setError([]);\n      setIsLoading(true);\n      navigate(\"/Home\");\n    }\n  }\n  function valdation() {\n    let schema = Joi.object({\n      email: Joi.string().email({\n        minDomainSegments: 2,\n        tlds: {\n          allow: [\"com\", \"net\"]\n        }\n      }).required(),\n      password: Joi.string().pattern(new RegExp(\"^[a-zA-Z0-9]{3,30}$\"))\n    });\n    return schema.validate(user, {\n      abortEarly: false\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-75 mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: \"Login Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), error.map((error, i) => error.type === \"string.pattern.base\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: \"password invalid\"\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: error.message\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submitLoginForm,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"email : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: getUser,\n          className: \"form-control mb-2\",\n          type: \"email\",\n          id: \"email\",\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"password : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: getUser,\n          className: \"form-control mb-2\",\n          type: \"password\",\n          id: \"password\",\n          name: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-outline-info my-2\",\n          children: [isLoding ? /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-spinner fa-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this) : \"Login\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Login, \"v22MrD+gHKkxPIHrNC/VhEZoTBc=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["axios","Joi","React","useState","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","isLoding","setIsLoading","error","setError","navigate","user","setUser","email","password","getUser","e","userData","target","name","value","submitLoginForm","preventDefault","validateResult","valdation","details","console","log","schema","object","string","minDomainSegments","tlds","allow","required","pattern","RegExp","validate","abortEarly","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","i","type","message","onSubmit","htmlFor","onChange","id","_c","$RefreshReg$"],"sources":["D:/Nada/Courses/Rwad Masr React Web/Projects/noxe-movie-react/src/components/Login/Login.jsx"],"sourcesContent":["import axios from \"axios\";\nimport Joi from \"joi\";\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nexport default function Login() {\n  let [isLoding, setIsLoading] = useState(false);\n  let [error, setError] = useState([]);\n  let navigate = useNavigate();\n\n  let [user, setUser] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  function getUser(e) {\n    let userData = { ...user }; //deep copy\n    userData[e.target.name] = e.target.value;\n    setUser(userData);\n  }\n\n  async function submitLoginForm(e) {\n    setIsLoading(true);\n    e.preventDefault();\n    let validateResult = valdation();\n    if (validateResult.error) {\n      setIsLoading(false);\n      setError(validateResult.error.details);\n      console.log(validateResult.error.details);\n    } else {\n      setError([]);\n      setIsLoading(true);\n      navigate(\"/Home\");\n    }\n  }\n\n  function valdation() {\n    let schema = Joi.object({\n      email: Joi.string()\n        .email({ minDomainSegments: 2, tlds: { allow: [\"com\", \"net\"] } })\n        .required(),\n      password: Joi.string().pattern(new RegExp(\"^[a-zA-Z0-9]{3,30}$\")),\n    });\n    return schema.validate(user, { abortEarly: false });\n  }\n\n  return (\n    <>\n      <div className=\"w-75 mx-auto\">\n        <h2 className=\"text-center\">Login Now</h2>\n        {error.map((error, i) =>\n          error.type === \"string.pattern.base\" ? (\n            <div key={i} className=\"alert alert-danger\">\n              password invalid\n            </div>\n          ) : (\n            <div key={i} className=\"alert alert-danger\">\n              {error.message}\n            </div>\n          )\n        )}\n        <form onSubmit={submitLoginForm}>\n          <label htmlFor=\"email\">email : </label>\n          <input\n            onChange={getUser}\n            className=\"form-control mb-2\"\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n          />\n\n          <label htmlFor=\"password\">password : </label>\n          <input\n            onChange={getUser}\n            className=\"form-control mb-2\"\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n          />\n\n          <button type=\"submit\" className=\"btn btn-outline-info my-2\">\n            {isLoding ? <i className=\"fas fa-spinner fa-spin\"></i> : \"Login\"}{\" \"}\n          </button>\n        </form>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}