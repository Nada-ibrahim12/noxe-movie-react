{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nada\\\\Courses\\\\Rwad Masr React Web\\\\Projects\\\\noxe-movie-react\\\\src\\\\components\\\\Register\\\\Register.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport Joi from 'joi';\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  let [isLoding, setIsLoading] = useState(false);\n  let [error, setError] = useState([]);\n  let navigate = useNavigate();\n  let [user, setUser] = useState({\n    username: '',\n    email: '',\n    password: '',\n    passwordConfirm: ''\n  });\n  function getUser(e) {\n    let userData = {\n      ...user\n    }; //deep copy\n    userData[e.target.name] = e.target.value;\n    setUser(userData);\n  }\n  async function submitRegisterForm(e) {\n    setIsLoading(true);\n    e.preventDefault();\n    let validateResult = valdation();\n    if (validateResult.error) {\n      setIsLoading(false);\n      setError(validateResult.error.details);\n    } else {\n      setError([]);\n      setIsLoading(true);\n      navigate(\"/Login\");\n    }\n  }\n  function valdation() {\n    let schema = Joi.object({\n      username: Joi.string().alphanum().min(3).max(10).required(),\n      email: Joi.string().email({\n        minDomainSegments: 2,\n        tlds: {\n          allow: ['com', 'net']\n        }\n      }).required(),\n      password: Joi.string().pattern(new RegExp('^[a-zA-Z0-9]{3,30}$')),\n      passwordConfirm: Joi.ref('password')\n    });\n    return schema.validate(user, {\n      abortEarly: false\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-75 mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: \"Register Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this), error.map((error, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: error.message\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 29\n      }, this)), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submitRegisterForm,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username\",\n          children: \"user name : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: getUser,\n          className: \"form-control mb-2\",\n          type: \"text\",\n          id: \"username\",\n          name: \"username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"email : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: getUser,\n          className: \"form-control mb-2\",\n          type: \"email\",\n          id: \"email\",\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"password : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: getUser,\n          className: \"form-control mb-2\",\n          type: \"password\",\n          id: \"password\",\n          name: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"passwordConfirm\",\n          children: \"passwordConfirm : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: getUser,\n          className: \"form-control mb-2\",\n          type: \"password\",\n          id: \"passwordConfirm\",\n          name: \"passwordConfirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-outline-info my-2\",\n          children: [isLoding ? /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-spinner fa-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 85\n          }, this) : \"Register\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n_s(Register, \"bBcPhCqoCddmufirl/5MSMKVMpg=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["axios","Joi","React","useState","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Register","_s","isLoding","setIsLoading","error","setError","navigate","user","setUser","username","email","password","passwordConfirm","getUser","e","userData","target","name","value","submitRegisterForm","preventDefault","validateResult","valdation","details","schema","object","string","alphanum","min","max","required","minDomainSegments","tlds","allow","pattern","RegExp","ref","validate","abortEarly","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","i","message","onSubmit","htmlFor","onChange","type","id","_c","$RefreshReg$"],"sources":["D:/Nada/Courses/Rwad Masr React Web/Projects/noxe-movie-react/src/components/Register/Register.jsx"],"sourcesContent":["import axios from 'axios';\nimport Joi from 'joi';\nimport React, { useState } from 'react'\nimport { useNavigate } from 'react-router-dom';\nexport default function Register() {\n  let[isLoding,setIsLoading]=useState(false)\n  let[error,setError]=useState([])\n  let navigate =useNavigate() ;\n\n  let [user,setUser]=useState(\n    {\n      username:'',\n      email:'',\n      password:'',\n      passwordConfirm:''\n    }\n  )\n  function getUser(e){\n      let userData = {...user} //deep copy\n      userData[e.target.name] = e.target.value;\n      setUser(userData);\n  }\n\n  async function submitRegisterForm(e){\n    setIsLoading(true)\n    e.preventDefault()\n    let validateResult = valdation();\n    if(validateResult.error)\n   {\n      setIsLoading(false)\n      setError(validateResult.error.details)\n   }\n   else{\n    setError([]);\n    setIsLoading(true)\n    navigate(\"/Login\");\n   }\n  }\n\n  function valdation(){\n    let schema=Joi.object({\n      username : Joi.string().alphanum().min(3).max(10).required(),\n      email: Joi.string().email({ minDomainSegments: 2, tlds: { allow: ['com', 'net'] } }).required(),\n      password : Joi.string().pattern(new RegExp('^[a-zA-Z0-9]{3,30}$')),\n      passwordConfirm : Joi.ref('password'),\n\n    })\n    return schema.validate(user,{abortEarly:false})\n\n  }\n\n\n  return (\n    <>\n    <div className='w-75 mx-auto'>\n      <h2 className='text-center'>Register Now</h2>\n      {error.map((error,i)=><div key={i} className='alert alert-danger' >{error.message}</div>)}\n        <form onSubmit={submitRegisterForm}>\n        <label htmlFor=\"username\">user name : </label>\n          <input onChange={getUser} className='form-control mb-2' type=\"text\" id='username' name='username' />\n          \n          <label htmlFor=\"email\">email : </label>\n          <input onChange={getUser} className='form-control mb-2' type=\"email\" id='email' name='email' />\n\n          <label htmlFor=\"password\">password : </label>\n          <input onChange={getUser} className='form-control mb-2' type=\"password\" id='password' name='password' />\n\n          <label htmlFor=\"passwordConfirm\">passwordConfirm : </label>\n          <input onChange={getUser} className='form-control mb-2' type=\"password\" id='passwordConfirm' name='passwordConfirm' />\n\n          <button  type='submit' className='btn btn-outline-info my-2' >{isLoding ? <i className='fas fa-spinner fa-spin'></i>:\"Register\"} </button>\n\n        </form>\n    </div>\n      \n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}