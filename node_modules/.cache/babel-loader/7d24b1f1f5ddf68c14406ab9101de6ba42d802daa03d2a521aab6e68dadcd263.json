{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nada\\\\Courses\\\\Rwad Masr React Web\\\\Projects\\\\noxe-movie-react\\\\src\\\\components\\\\Register\\\\Register.jsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport Joi from \"joi\";\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  let [isLoding, setIsLoading] = useState(false);\n  let [error, setError] = useState([]);\n  let navigate = useNavigate();\n  let [user, setUser] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirm: \"\"\n  });\n  function getUser(e) {\n    let userData = {\n      ...user\n    }; //deep copy\n    userData[e.target.name] = e.target.value;\n    setUser(userData);\n  }\n  async function submitRegisterForm(e) {\n    setIsLoading(true);\n    e.preventDefault();\n    let validateResult = valdation();\n    if (validateResult.error) {\n      setIsLoading(false);\n      setError(validateResult.error.details);\n    } else {\n      setError([]);\n      setIsLoading(true);\n      navigate(\"/Login\");\n    }\n  }\n  function valdation() {\n    let schema = Joi.object({\n      username: Joi.string().alphanum().min(3).max(10).required(),\n      email: Joi.string().email({\n        minDomainSegments: 2,\n        tlds: {\n          allow: [\"com\", \"net\"]\n        }\n      }).required(),\n      password: Joi.string().pattern(new RegExp(\"^[a-zA-Z0-9]{3,30}$\")),\n      passwordConfirm: Joi.ref(\"password\")\n    });\n    return schema.validate(user, {\n      abortEarly: false\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-75 mx-auto mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: \"Register Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), error.map((error, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: error.message\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submitRegisterForm,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username\",\n          children: \"user name : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: getUser,\n          className: \"form-control mb-2\",\n          type: \"text\",\n          id: \"username\",\n          name: \"username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"email : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: getUser,\n          className: \"form-control mb-2\",\n          type: \"email\",\n          id: \"email\",\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"password : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: getUser,\n          className: \"form-control mb-2\",\n          type: \"password\",\n          id: \"password\",\n          name: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"passwordConfirm\",\n          children: \"passwordConfirm : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: getUser,\n          className: \"form-control mb-2\",\n          type: \"password\",\n          id: \"passwordConfirm\",\n          name: \"passwordConfirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-outline-info my-2\",\n          children: [isLoding ? /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-spinner fa-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this) : \"Register\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Register, \"EKWUcSWz/OnuggXSlXPdptEdH7c=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["axios","Joi","React","useState","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Register","_s","isLoding","setIsLoading","error","setError","navigate","user","setUser","username","email","password","passwordConfirm","getUser","e","userData","target","name","value","submitRegisterForm","preventDefault","validateResult","valdation","details","schema","object","string","alphanum","min","max","required","minDomainSegments","tlds","allow","pattern","RegExp","ref","validate","abortEarly","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","i","message","onSubmit","htmlFor","onChange","type","id","_c","$RefreshReg$"],"sources":["D:/Nada/Courses/Rwad Masr React Web/Projects/noxe-movie-react/src/components/Register/Register.jsx"],"sourcesContent":["import axios from \"axios\";\nimport Joi from \"joi\";\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nexport default function Register() {\n  let [isLoding, setIsLoading] = useState(false);\n  let [error, setError] = useState([]);\n  let navigate = useNavigate();\n\n  let [user, setUser] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirm: \"\",\n  });\n  function getUser(e) {\n    let userData = { ...user }; //deep copy\n    userData[e.target.name] = e.target.value;\n    setUser(userData);\n  }\n\n  async function submitRegisterForm(e) {\n    setIsLoading(true);\n    e.preventDefault();\n    let validateResult = valdation();\n    if (validateResult.error) {\n      setIsLoading(false);\n      setError(validateResult.error.details);\n    } else {\n      setError([]);\n      setIsLoading(true);\n      navigate(\"/Login\");\n    }\n  }\n\n  function valdation() {\n    let schema = Joi.object({\n      username: Joi.string().alphanum().min(3).max(10).required(),\n      email: Joi.string()\n        .email({ minDomainSegments: 2, tlds: { allow: [\"com\", \"net\"] } })\n        .required(),\n      password: Joi.string().pattern(new RegExp(\"^[a-zA-Z0-9]{3,30}$\")),\n      passwordConfirm: Joi.ref(\"password\"),\n    });\n    return schema.validate(user, { abortEarly: false });\n  }\n\n  return (\n    <>\n      <div className=\"w-75 mx-auto mt-4\">\n        <h2 className=\"text-center\">Register Now</h2>\n        {error.map((error, i) => (\n          <div key={i} className=\"alert alert-danger\">\n            {error.message}\n          </div>\n        ))}\n        <form onSubmit={submitRegisterForm}>\n          <label htmlFor=\"username\">user name : </label>\n          <input\n            onChange={getUser}\n            className=\"form-control mb-2\"\n            type=\"text\"\n            id=\"username\"\n            name=\"username\"\n          />\n\n          <label htmlFor=\"email\">email : </label>\n          <input\n            onChange={getUser}\n            className=\"form-control mb-2\"\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n          />\n\n          <label htmlFor=\"password\">password : </label>\n          <input\n            onChange={getUser}\n            className=\"form-control mb-2\"\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n          />\n\n          <label htmlFor=\"passwordConfirm\">passwordConfirm : </label>\n          <input\n            onChange={getUser}\n            className=\"form-control mb-2\"\n            type=\"password\"\n            id=\"passwordConfirm\"\n            name=\"passwordConfirm\"\n          />\n\n          <button type=\"submit\" className=\"btn btn-outline-info my-2\">\n            {isLoding ? <i className=\"fas fa-spinner fa-spin\"></i> : \"Register\"}{\" \"}\n          </button>\n        </form>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}